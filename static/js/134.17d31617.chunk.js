"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[134],{830:function(t,e,n){n.d(e,{Df:function(){return s},M1:function(){return v},TP:function(){return d},V0:function(){return f},tx:function(){return x}});var r=n(861),c=n(687),a=n.n(c),u=n(243),i="https://api.themoviedb.org/3/",o="36a3ac5838410dde3857f90e0e3f465d";function s(){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(a().mark((function t(){var e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(i,"trending/movie/day?api_key=").concat(o));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(t){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(a().mark((function t(e){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(i,"search/movie?api_key=").concat(o,"&query=").concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(t){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(a().mark((function t(e){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(i,"movie/").concat(e,"?api_key=").concat(o));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(t){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(a().mark((function t(e){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(i,"movie/").concat(e,"/credits?api_key=").concat(o));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(t){return y.apply(this,arguments)}function y(){return(y=(0,r.Z)(a().mark((function t(e){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(i,"movie/").concat(e,"/reviews?api_key=").concat(o));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},47:function(t,e,n){n.d(e,{Z:function(){return s}});var r,c=n(87),a=n(689),u=n(168),i=n(934).Z.ul(r||(r=(0,u.Z)(["\n  list-style: none;\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n  text-decoration: none;\n"]))),o=n(184),s=function(t){var e=t.movies,n=(0,a.TH)();return(0,o.jsx)(i,{children:e.map((function(t){return(0,o.jsx)("li",{children:(0,o.jsx)(c.rU,{to:"/movies/".concat(t.id),state:{from:n},children:t.title})},t.id)}))})}},134:function(t,e,n){n.r(e);var r=n(439),c=n(791),a=n(87),u=n(830),i=n(245),o=n(47),s=n(820),p=n(184);e.default=function(){var t,e=(0,c.useState)([]),n=(0,r.Z)(e,2),f=n[0],l=n[1],d=(0,a.lr)(),h=(0,r.Z)(d,2),v=h[0],m=h[1],x=(0,c.useState)("idle"),y=(0,r.Z)(x,2),Z=y[0],k=y[1],w=(0,c.useState)(""),j=(0,r.Z)(w,2),b=j[0],g=j[1],_=null!==(t=v.get("query"))&&void 0!==t?t:"";(0,c.useEffect)((function(){k("idle"),(0,u.V0)(_).then((function(t){l(t.results),k("resolve")})).catch((function(t){l([]),g(String(t)),k("rejected")}))}),[_]);return(0,p.jsxs)("main",{children:[(0,p.jsx)("h1",{children:"Movie"}),(0,p.jsxs)("form",{autoComplete:"off",onSubmit:function(t){t.preventDefault();var e=t.currentTarget.elements.search.value.trim();m(e?{query:e}:{})},children:[(0,p.jsx)("input",{type:"search",name:"search"}),(0,p.jsx)("button",{type:"submit",children:(0,p.jsx)(s.RB5,{})})]}),(0,p.jsx)(o.Z,{movies:f}),"idle"===Z&&(0,p.jsx)(i.Z,{}),"rejected"===Z&&(0,p.jsx)("p",{children:b})]})}}}]);
//# sourceMappingURL=134.17d31617.chunk.js.map